(function(jQuery){var supported=true;var keyMeta='ls_';if(typeof localStorage=='undefined'||typeof JSON=='undefined'){supported=false}this.storageError=function(error){switch(error){case'SUPPORTED':alert("Your browser does not support localStorage!");break;case'QUOTA':alert("Your storage quota is currently full!");console.log("Browser database quote exceeded.");break;default:alert('An unknown error has occurred!');break}return true};this.saveItem=function(itemKey,itemValue,lifetime){if(typeof lifetime=='undefined'){lifetime=60000}if(!supported){dt=new Date();dt.setTime(dt.getTime()+lifetime);expires="expires= "+dt.toGMTString();document.cookie=keyMeta+itemKey.toString()+"="+itemValue+"; "+expires+"; path=/";return true}try{localStorage.setItem(keyMeta+itemKey.toString(),JSON.stringify(itemValue))}catch(e){if(e==QUOTA_EXCEEDED_ERR){this.storageError('QUOTA');return false}}return true};this.loadItem=function(itemKey){if(itemKey===null){return null}if(!supported){var cooKey=keyMeta+itemKey.toString()+"=";var cookArr=document.cookie.split(';');for(var i=0,cookCount=cookArr;i<cookCount;i++){var current_cookie=cookArr[i];while(current_cookie.charAt(0)==''){current_cookie=current_cookie.substring(1,current_cookie.length);if(current_cookie.indexOf(cooKey)==0){return current_cookie.substring(cooKey.length,current_cookie.length)}}}return null}var data=localStorage.getItem(keyMeta+itemKey.toString());if(data){return JSON.parse(data)}else{return false}};this.deleteItem=function(itemKey){if(!supported){document.cookie=keyMeta+itemKey.toString()+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT";return true}localStorage.removeItem(keyMeta+itemKey.toString());return true};this.deleteAll=function(){if(!supported){var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){this.deleteItem(cookies[i].split("=")[0])}return true}localStorage.clear();return true};jQuery.Storage=this})(jQuery);